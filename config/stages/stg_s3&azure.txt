USE ROLE SYSADMIN;


CREATE DATABASE UT_DE_FRAMEWORK;

Create Schemas - Make sure you are in SYSADMIN role
--Stage integration


USE ROLE SYSADMIN;

USE DATABASE UT_DE_FRAMEWORK;

CREATE SCHEMA CONFIG;
CREATE SCHEMA RAW;
CREATE SCHEMA BASE;
CREATE SCHEMA REPORTING;

//S3_INTEGRATION

USE ROLE ACCOUNTADMIN;


CREATE STORAGE INTEGRATION S3_INTEGRATION
  TYPE = EXTERNAL_STAGE
  STORAGE_PROVIDER = 'S3'
  ENABLED = TRUE
  STORAGE_AWS_ROLE_ARN = 'arn:aws:iam::295240727335:role/snowflake-framework-role'
  STORAGE_ALLOWED_LOCATIONS = ('*');

    desc integration S3_INTEGRATION;
------------------------------------------------------------------------

//AZURE_INTEGRATION

CREATE STORAGE INTEGRATION AZURE_INTEGRATION
  TYPE = EXTERNAL_STAGE
  STORAGE_PROVIDER = 'AZURE'
  ENABLED = TRUE
  AZURE_TENANT_ID = 'f013e483-d033-45ec-b870-b981ead43c28'
  STORAGE_ALLOWED_LOCATIONS = ('*');

  desc integration AZURE_INTEGRATION;